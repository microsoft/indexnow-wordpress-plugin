(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},91:function(e,t,n){},94:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),i=n(36),r=n.n(i),c=(n(86),n(13)),o=(n(87),n(88),n(89),n(10)),l=n.n(o),d=n(16),u=n(31),b={HttpStatusCode:408,Code:"RequestTimedOut",Message:"This might be a momentary issue, please try again or check back later"},m="".concat(window.wpr_object.api_url),j={headers:{"X-WP-Nonce":"".concat(window.wpr_object.api_nonce)}};function h(e){return p.apply(this,arguments)}function p(){return(p=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x(new Promise((function(e,n){var a;fetch("".concat(m).concat(t),j).then((function(e){return a=e,e.json()})).then((function(t){a.ok?a.data=t:a.error=t,e(a)})).catch((function(e){n(e)}))}))));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t){return O.apply(this,arguments)}function O(){return(O=Object(d.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x(new Promise((function(e,a){var s;fetch("".concat(m).concat(t),{method:"POST",headers:Object(u.a)(Object(u.a)({},j.headers),{},{Accept:"application/json, text/javascript, */*; q=0.01","Content-Type":"application/json;charset=UTF-8"}),body:JSON.stringify(n)}).then((function(e){return s=e,e.json()})).then((function(t){s.ok?s.data=t:s.error=t,e(s)})).catch((function(e){a(e)}))}))));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6e4;return Promise.race([e,new Promise((function(e,a){var s,i={status:b.HttpStatusCode};s=new Response(null,i),t=setTimeout((function(){s.error={code:b.Code,message:b.Message},e(s)}),n)}))]).then((function(e){return clearTimeout(t),e}))}function v(){return(v=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"apiKey",e.next=3,h("apiKey").catch((function(e){return console.error("Error while fetching API key."),e}));case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return y.apply(this,arguments)}function y(){return(y=Object(d.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"apiKey",a={APIKey:t},e.next=4,f("apiKey",a).catch((function(e){return console.error("Error while updating API key."),e}));case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"apiKeyValidity",e.next=3,h("apiKeyValidity").catch((function(e){return console.error("Error while checking API key validity."),e}));case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"apiSettings",e.next=3,h("apiSettings").catch((function(e){return console.error("Error while fetching plugin settings."),e}));case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"getStats",e.next=3,h("getStats").catch((function(e){return console.error("Error while fetching submission statistics."),e}));case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"allSubmissions",e.next=3,h("allSubmissions").catch((function(e){return console.error("Error while fetching submitted URLs list."),e}));case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(d.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={Submissions:t},"allSubmissions",e.next=4,f("allSubmissions",n).catch((function(e){return console.error("Error while retrying failed submissions."),e}));case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(d.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={AutoSubmissionEnabled:t},"automaticSubmission",e.next=4,f("automaticSubmission",n).catch((function(e){return console.error("Error while updating automatic submission settings."),e}));case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=Object(d.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"submitUrl",a={url:t},e.next=4,f("submitUrl",a).catch((function(e){return console.error("Error while submitting URL."),e}));case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(91);var I=n(154),E=n(53),M=function e(){Object(E.a)(this,e)};M.ApiKeyHelpLink="https://docs.microsoft.com/en-us/bingwebmaster/getting-access#using-api-key",M.BingWebmasterLink="https://bing.com/webmaster",M.PluginInfoLink="https://aka.ms/BingWordpressPluginAbout",M.ApiKeyValidationError="Invalid API key! (Should be alphanumeric and 32 characters in length.)",M.UrlSubmitErrorMessage="Invalid URL!";var U=RegExp("^[a-zA-Z0-9]{0,32}$"),R=RegExp("^https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)$"),L=n(2),B=Object(L.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"52.793",height:"21.328",viewBox:"0 0 52.793 21.328",children:Object(L.jsxs)("g",{fill:"#fff",transform:"translate(311.5 -796.169)",children:[Object(L.jsx)("path",{d:"M-311.5,796.169l4.261,1.5v15l6-3.464-2.942-1.38-1.856-4.62,9.456,3.322v4.83l-10.656,6.146-4.263-2.371Z"}),Object(L.jsxs)("g",{transform:"translate(-290.183 800.152)",children:[Object(L.jsx)("path",{d:"M2708.543,12811.441v-12.808h3.644a3.981,3.981,0,0,1,2.634.813,2.626,2.626,0,0,1,.974,2.116,3.115,3.115,0,0,1-.59,1.894,3.163,3.163,0,0,1-1.625,1.142v.037a3.26,3.26,0,0,1,2.072.978,3.011,3.011,0,0,1,.777,2.148,3.349,3.349,0,0,1-1.179,2.661,4.388,4.388,0,0,1-2.974,1.019Zm1.5-11.45v4.136h1.536a2.919,2.919,0,0,0,1.938-.594,2.07,2.07,0,0,0,.706-1.675q0-1.868-2.456-1.867Zm0,5.483v4.608h2.036a3.049,3.049,0,0,0,2.05-.625,2.139,2.139,0,0,0,.728-1.714q0-2.268-3.09-2.27Z",transform:"translate(-2708.543 -12798.358)"}),Object(L.jsx)("path",{d:"M2891.153,12795.346a.93.93,0,0,1-.669-.268.907.907,0,0,1-.277-.68.937.937,0,0,1,.947-.955.946.946,0,0,1,.684.271.955.955,0,0,1,0,1.354A.935.935,0,0,1,2891.153,12795.346Zm.715,11.179H2890.4v-9.076h1.465Z",transform:"translate(-2880.606 -12793.443)"}),Object(L.jsx)("path",{d:"M2974.872,12874.426h-1.464v-5.147c0-1.941-.654-2.912-2.071-2.912a2.306,2.306,0,0,0-1.818.826,3.061,3.061,0,0,0-.719,2.086v5.147h-1.465v-9.074h1.465v1.485h.036a3.234,3.234,0,0,1,2.946-1.7,2.8,2.8,0,0,1,2.3.97,4.314,4.314,0,0,1,.795,2.8Z",transform:"translate(-2953.66 -12861.346)"}),Object(L.jsx)("path",{d:"M3154.274,12873.6q0,5.038-4.822,5.038a6.237,6.237,0,0,1-2.909-.63l.384-1.255a4.883,4.883,0,0,0,2.508.658c2.25,0,3.375-1.175,3.375-3.567v-.991h-.036a3.308,3.308,0,0,1-3.077,1.735,3.378,3.378,0,0,1-2.746-1.156,4.864,4.864,0,0,1-1.041-3.271,5.7,5.7,0,0,1,1.121-3.708,3.747,3.747,0,0,1,3.068-1.375,2.877,2.877,0,0,1,2.675,1.483h.036v-1.264h1.465Zm-1.465-3.359v-1.277a2.613,2.613,0,0,0-.737-1.865,2.331,2.331,0,0,0-1.793-.778,2.542,2.542,0,0,0-2.125.987,4.4,4.4,0,0,0-.768,2.764,3.573,3.573,0,0,0,.737,2.37,2.379,2.379,0,0,0,1.951.914,2.464,2.464,0,0,0,1.963-.874A3.262,3.262,0,0,0,3152.809,12870.236Z",transform:"translate(-3122.798 -12861.29)"})]})]})}),H=Object(L.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14.92",height:"21.328",viewBox:"0 0 14.92 21.328",children:Object(L.jsx)("g",{fill:"#fff",transform:"translate(311.5 -796.169)",children:Object(L.jsx)("path",{d:"M-311.5,796.169l4.261,1.5v15l6-3.464-2.942-1.38-1.856-4.62,9.456,3.322v4.83l-10.656,6.146-4.263-2.371Z"})})}),K=function(){return Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)("header",{className:"bw-Header",children:[Object(L.jsxs)("div",{className:"headerLeftElements floatLeft",children:[Object(L.jsx)("span",{className:"bingLogo desktopOnly",children:B}),Object(L.jsx)("span",{className:"bingLogoMobile mobileOnly",children:H}),Object(L.jsx)("span",{className:"pageTitle",children:"URL Submission plugin"})]}),Object(L.jsx)("div",{className:"headerRightElements floatRight",children:Object(L.jsxs)("span",{title:"Help",onClick:function(){return window.open(M.PluginInfoLink,"_blank")},children:[Object(L.jsx)("span",{className:"desktopOnly",children:"About this plugin"}),Object(L.jsx)(I.a,{iconName:"Info",className:"bw-Icon"})]},"headerHelp")})]})})},T=(n(94),n(136)),_=n(153),F=function(e){var t=Object(a.useState)(""),n=Object(c.a)(t,2),s=n[0],i=n[1];return Object(L.jsxs)("div",{className:"bw-StartPageContent",children:[Object(L.jsxs)("div",{className:"featuresSection",children:[Object(L.jsx)("h2",{className:"inlineText",children:"What you can do with this plugin"}),Object(L.jsxs)("div",{className:"featuresListContainer",children:[Object(L.jsxs)("div",{className:"featureItem",children:[Object(L.jsx)(I.a,{iconName:"Rocket",className:"featureIcon"}),Object(L.jsx)("p",{children:"Automate URL submissions"})]}),Object(L.jsxs)("div",{className:"featureItem",children:[Object(L.jsx)(I.a,{iconName:"Send",className:"featureIcon"}),Object(L.jsx)("p",{children:"Manual URL submissions"})]}),Object(L.jsxs)("div",{className:"featureItem",children:[Object(L.jsx)(I.a,{iconName:"NumberField",className:"featureIcon"}),Object(L.jsx)("p",{children:"View stats of submitted URLs"})]}),Object(L.jsxs)("div",{className:"featureItem",children:[Object(L.jsx)(I.a,{iconName:"ErrorBadge",className:"featureIcon"}),Object(L.jsx)("p",{children:"View recent submissions"})]}),Object(L.jsxs)("div",{className:"featureItem",children:[Object(L.jsx)(I.a,{iconName:"BulletedList",className:"featureIcon"}),Object(L.jsx)("p",{children:"Re-submit recent submissions"})]})]})]}),Object(L.jsx)("div",{className:"keyEntrySection",children:Object(L.jsxs)("div",{className:"keyEntryCard",children:[Object(L.jsx)("h3",{children:"Add API Key To Get Started"}),Object(L.jsx)("p",{children:"Add valid API key and automate URL submission by clicking on Start using this plugin. You can disable auto submission later from plugin if needed."}),Object(L.jsx)(_.a,{type:"password",className:"apiKeyTextField",value:s,onChange:function(e,t){i(t||"")},placeholder:"Enter 32 digit API key",validateOnLoad:!1,onGetErrorMessage:function(){return U.test(s)&&32===s.length?"":M.ApiKeyValidationError}}),Object(L.jsxs)("p",{children:['Don"t have API key?'," ",Object(L.jsx)("a",{href:M.ApiKeyHelpLink,target:"_blank",children:"Click here to know how to generate."})]}),Object(L.jsx)("div",{children:Object(L.jsx)(T.a,{className:"button submitButton",text:"Start using plugin",onClick:function(){Promise.resolve(w(s)).then((function(t){var n,a;0===(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error_type.length)?e.setAPIKeyAdded():e.addBanner("Adding API key failed: ".concat(null===(a=t.data)||void 0===a?void 0:a.error_type))}))},disabled:!U.test(s)||32!==s.length})})]})})]})},D=(n(96),n(65)),W=n(145),Z=n(20),V=n(152),q=n(146),G=n(143),J=n(150),z=n(64),Q=function(e){var t=Object(z.a)(e.title),n={onRenderContent:function(){return Object(L.jsx)("span",{children:e.tooltip})}};return Object(L.jsxs)("div",{className:"bw-Card "+e.className||!1,children:[Object(L.jsx)("div",{className:"cardHeader",children:Object(L.jsxs)("span",{className:"cardTitle",children:[Object(L.jsx)(I.a,{iconName:e.leadingIconName,className:"cardTitleIcon"}),Object(L.jsx)("span",{children:e.title}),Object(L.jsx)(J.a,{closeDelay:500,directionalHint:1,id:t,tooltipProps:n,children:Object(L.jsx)(I.a,{"aria-describedby":t,iconName:"Info",className:"info"})})]})}),Object(L.jsx)("div",{className:"cardContent",children:e.children})]})},Y=function(e){var t,n;!function(e){e[e.Hidden=0]="Hidden",e[e.UpdateApiKeyModal=1]="UpdateApiKeyModal",e[e.EditPrefAutoSubmissionModal=2]="EditPrefAutoSubmissionModal",e[e.SubmitUrlModal=3]="SubmitUrlModal"}(n||(n={}));var s=Object(a.useState)(!1),i=Object(c.a)(s,2),r=i[0],o=i[1],l=Object(a.useState)(),d=Object(c.a)(l,2),u=d[0],b=d[1],m=Object(a.useState)(),j=Object(c.a)(m,2),h=j[0],p=j[1],f=Object(a.useState)(),O=Object(c.a)(f,2),x=O[0],v=O[1],y=Object(a.useState)(!1),E=Object(c.a)(y,2),B=E[0],H=E[1],K=Object(a.useState)(),F=Object(c.a)(K,2),J=F[0],z=F[1],Y=Object(a.useState)(n.Hidden),$=Object(c.a)(Y,2),X=$[0],ee=$[1],te=Object(a.useState)("enable"),ne=Object(c.a)(te,2),ae=ne[0],se=ne[1],ie=Object(a.useState)(""),re=Object(c.a)(ie,2),ce=re[0],oe=re[1],le=Object(a.useState)(""),de=Object(c.a)(le,2),ue=de[0],be=de[1],me=Object(a.useState)(0),je=Object(c.a)(me,2),he=je[0],pe=je[1],fe=Object(a.useState)(0),Oe=Object(c.a)(fe,2),xe=Oe[0],ve=Oe[1],we=Object(a.useState)(0),ye=Object(c.a)(we,2),Ne=ye[0],ge=ye[1];Object(a.useEffect)((function(){Promise.resolve(function(){return N.apply(this,arguments)}()).then((function(t){t&&t.data&&0!==t.data.error_type.length&&(e.addBanner("API Key Validation Error: Please check if site is verified or API key is valid to enable Automatic & Manual URL submission."),o(!0))}))}),[]),Object(a.useEffect)((function(){Promise.resolve(function(){return g.apply(this,arguments)}()).then((function(e){e&&e.data&&0===e.data.error_type.length&&(b(e.data),se(e.data.AutoSubmissionEnabled?"enable":"disable"))}))}),[Ne,xe]),Object(a.useEffect)((function(){Promise.resolve(function(){return S.apply(this,arguments)}()).then((function(e){e&&e.data&&0===e.data.error_type.length&&p(e.data)}))}),[Ne,he]),Object(a.useEffect)((function(){Promise.resolve(function(){return C.apply(this,arguments)}()).then((function(e){e&&e.data&&0===e.data.error_type.length&&(e.data.Submissions.sort((function(e,t){return e.submission_date>t.submission_date?-1:1})),v(e.data))}))}),[Ne,he]);var Se=[{key:"url",name:"URL",fieldName:"url",onRender:function(e){return Object(L.jsx)("a",{href:e.url,target:"_blank",children:decodeURI(e.url)})},minWidth:250},{key:"submittedOn",name:"Submitted On",fieldName:"submission_date",onRender:function(e){var t=new Date(0);return t.setUTCSeconds(e.submission_date),t.getFullYear===(new Date).getFullYear?Object(q.a)(t,"d MMM 'at' HH':'mm",{}):Object(q.a)(t,"d MMM yyyy'at' HH':'mm",{})},minWidth:150},{key:"status",name:"Status",fieldName:"error",onRender:function(e){return"Success"===e.error?e.error:"Failed - ".concat(e.error)},minWidth:200},{key:"resubmit",name:"",onRender:function(e){return Object(L.jsx)(I.a,{iconName:"Sync","data-submission":JSON.stringify(e),className:"bw-Icon retryIcon",onClick:Ce})},minWidth:40,maxWidth:70,className:"retryColumn"}],Ce=function(t){var n,a=null!==(n=t.target.dataset.submission)&&void 0!==n?n:"",s=JSON.parse(a);Promise.resolve(function(e){return k.apply(this,arguments)}([s])).then((function(t){t&&t.data&&(pe(he+1),!t.data.hasError&&0===t.data.error_type.length&&t.data.SubmissionErrors.length>=1&&t.data.SubmissionErrors[0].isSubmitted?e.addBanner("Success : URL submitted successfully."):e.addBanner("Error : Submission failed for URL - ".concat(s.url)))}))};return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)("div",{className:"bw-DashboardContent"+(X!==n.Hidden?" darken":""),children:[Object(L.jsxs)("div",{className:"bw-CardRow",children:[Object(L.jsxs)("div",{className:"bw-CardColumn bw-CardColumn-2 bw-ApiKeyCard",children:[Object(L.jsx)(Q,{title:"API Key",tooltip:"API Key is a unique identifier that is used to authenticate API requests.",leadingIconName:"Permissions",className:"bw-Card-WithPopOver",children:Object(L.jsx)("p",{className:"cardDescription",children:"********************************"})}),Object(L.jsxs)("div",{className:"bw-PopOverMenu",onMouseEnter:function(){H(!0)},onMouseLeave:function(){H(!1)},children:[Object(L.jsx)(I.a,{iconName:"MoreVertical",className:"moreIcon"}),Object(L.jsx)("div",{className:"popOverContainer",children:Object(L.jsx)("ul",{className:"popOverPanel"+(B?" openPopOverMenu":""),children:Object(L.jsx)("li",{onClick:function(){be(""),ee(n.UpdateApiKeyModal)},children:"Update key"})})})]})]}),Object(L.jsxs)("div",{className:"bw-CardColumn bw-CardColumn-2",children:[Object(L.jsx)(Q,{title:"Automate URL submission",className:"bw-Card-WithPopOver "+(r?"bw-Disabled":""),tooltip:"This feature allows to configure automation to submit new, updated & deleted URLs to Bing and stay updated.",leadingIconName:"Rocket",children:Object(L.jsx)("p",{className:"cardDescription",children:u?u.AutoSubmissionEnabled?"Enabled":"Disabled":"-"})}),Object(L.jsxs)("div",{className:"bw-PopOverMenu "+(r?"bw-Disabled":""),onMouseEnter:function(){!r&&z(!0)},onMouseLeave:function(){z(!1)},children:[Object(L.jsx)(I.a,{iconName:"MoreVertical",className:"moreIcon"}),Object(L.jsx)("div",{className:"popOverContainer",children:Object(L.jsx)("ul",{className:"popOverPanel"+(J?" openPopOverMenu":""),children:Object(L.jsx)("li",{onClick:function(){se((null===u||void 0===u?void 0:u.AutoSubmissionEnabled)?"enable":"disable"),ee(n.EditPrefAutoSubmissionModal)},children:"Edit preference"})})})]})]})]}),Object(L.jsx)("div",{className:"bw-CardRow",children:Object(L.jsx)("div",{className:"bw-CardColumn bw-CardColumn-1 bw-ManualURLSubmissionCard",children:Object(L.jsxs)(Q,{title:"Manual URL submission",tooltip:"This feature allows you to submit a URL directly into the Bing index.",leadingIconName:"Send",className:r?"bw-Disabled":"",children:[Object(L.jsx)("p",{className:"cardDescription",children:"This feature allows you to submit a URL directly into the Bing index."}),Object(L.jsx)(D.a,{disabled:r,onClick:function(){oe(""),ee(n.SubmitUrlModal)},className:"buttonSubmitUrl",text:"Submit URL"})]})})}),Object(L.jsx)("h2",{className:"sectionTitle",children:"Overview"}),Object(L.jsx)("div",{className:"bw-CardRow",children:Object(L.jsxs)("div",{className:"bw-OverviewSection",children:[Object(L.jsxs)("div",{className:"infoCards",children:[Object(L.jsx)("h4",{children:"Quota left for the day"}),Object(L.jsx)("h2",{children:h&&null!==h.Quota?h.Quota:"-"}),Object(L.jsx)("p",{children:"(Resets at 00:00 GMT)"})]}),Object(L.jsxs)("div",{className:"infoCards",children:[Object(L.jsx)("h4",{children:"Successful submissions"}),Object(L.jsx)("h2",{children:h&&null!==h.PassedSubmissionCount?h.PassedSubmissionCount:"-"}),Object(L.jsx)("p",{children:"In last 48 hours"})]}),Object(L.jsxs)("div",{className:"infoCards",children:[Object(L.jsx)("h4",{children:"Failed submissions"}),Object(L.jsx)("h2",{children:h&&null!==h.FailedSubmissionCount?h.FailedSubmissionCount:"-"}),Object(L.jsx)("p",{children:"In last 48 hours"})]})]})}),Object(L.jsxs)("div",{className:"sectionTitleContainer",children:[Object(L.jsx)("h2",{className:"sectionTitle",children:"URLs submitted"}),Object(L.jsx)(D.a,{disabled:null===(null===x||void 0===x?void 0:x.Submissions)||0===(null===x||void 0===x?void 0:x.Submissions.length),onClick:function(){var e,t=null===x||void 0===x||null===(e=x.Submissions)||void 0===e?void 0:e.map((function(e){var t=new Date(0);return t.setUTCSeconds(e.submission_date),{url:e.url,timestamp:Object(G.a)(t),submitted:"Success"===e.error,status:e.error}})),n=JSON.stringify(t),a=new Blob([n],{type:"application/json"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download="submissionslist.json",s.click()},className:"buttonUrlSubmissionsDownload",text:"Download"})]}),Object(L.jsx)("div",{className:"bw-CardRow",children:Object(L.jsx)("div",{className:"bw-CardColumn bw-CardColumn-1 bw-UrlSubmissions",children:Object(L.jsx)(W.a,{setKey:"items",items:null!==(t=null===x||void 0===x?void 0:x.Submissions)&&void 0!==t?t:[],columns:Se,selectionMode:Z.b.none,enableShimmer:void 0===x,ariaLabelForShimmer:"Content is being fetched",ariaLabelForGrid:"Item details",listProps:{renderedWindowsAhead:0,renderedWindowsBehind:0},onRenderCheckbox:function(e){return(null===e||void 0===e?void 0:e.checked)?Object(L.jsx)(I.a,{iconName:"CheckboxComposite",className:""}):Object(L.jsx)(I.a,{iconName:"Checkbox",className:""})}})})}),Object(L.jsxs)("div",{className:"footnotes",children:[Object(L.jsx)("p",{className:"footnotes",children:"Maximum of 20 successful and 20 failed submissions in last 48hrs will be displayed."}),Object(L.jsxs)("p",{children:["For more information, login to"," ",Object(L.jsx)("a",{href:M.BingWebmasterLink,children:"Bing Webmaster Tools"}),"."]})]})]}),Object(L.jsxs)("div",{className:"bw-Modal"+(X!==n.Hidden?" showModal":""),children:[X===n.UpdateApiKeyModal&&Object(L.jsxs)("div",{className:"modalContainer bw-ModalUpdateApiKey",children:[Object(L.jsxs)("div",{className:"modalHeader",children:[Object(L.jsx)("p",{className:"modalTitle",children:"Update API Key"}),Object(L.jsx)(I.a,{iconName:"ChromeClose",className:"bw-Icon modalClose",onClick:function(){ee(n.Hidden)}})]}),Object(L.jsxs)("div",{className:"modalContent",children:[Object(L.jsx)(_.a,{placeholder:"Enter 32 digit API key",className:"textField",value:ue,onChange:function(e,t){be(t||"")},validateOnLoad:!1,onGetErrorMessage:function(){return U.test(ue)&&32===ue.length?"":M.ApiKeyValidationError}}),Object(L.jsxs)("p",{children:["Don\u2019t have API key?"," ",Object(L.jsx)("a",{href:M.ApiKeyHelpLink,children:"Click here to know how to generate."})]})]}),Object(L.jsxs)("div",{className:"modalFooter",children:[Object(L.jsx)(T.a,{className:"button primaryButton",text:"Update",onClick:function(t){ee(n.Hidden),Promise.resolve(w(ue)).then((function(t){t&&t.data&&(ge(Ne+1),0===t.data.error_type.length?e.addBanner("Success : API key is updated successfully."):e.addBanner("Error : Unable to update API key."))}))},disabled:!U.test(ue)||32!==ue.length}),Object(L.jsx)(D.a,{className:"button secondaryButton",text:"Cancel",onClick:function(){ee(n.Hidden)}})]})]}),X===n.EditPrefAutoSubmissionModal&&Object(L.jsxs)("div",{className:"modalContainer bw-ModalEditPreferenceAutoSubmissions",children:[Object(L.jsxs)("div",{className:"modalHeader",children:[Object(L.jsx)("p",{className:"modalTitle",children:"Edit preference for Automate URL Submission"}),Object(L.jsx)(I.a,{iconName:"ChromeClose",className:"bw-Icon modalClose",onClick:function(){ee(n.Hidden)}})]}),Object(L.jsxs)("div",{className:"modalContent",children:[Object(L.jsx)("p",{className:"modalDescription",children:"We recommend you to enable automation to submit new, updated & deleted URLs to Bing and stay updated."}),Object(L.jsx)(V.a,{selectedKey:ae,options:[{key:"enable",text:"Enable (recommended)"},{key:"disable",text:"Disable"}],onChange:function(e,t){void 0!==t&&se(t.key)}})]}),Object(L.jsxs)("div",{className:"modalFooter",children:[Object(L.jsx)(T.a,{className:"button primaryButton",text:"Save",onClick:function(t){ee(n.Hidden),Promise.resolve(function(e){return A.apply(this,arguments)}("enable"===ae)).then((function(t){t&&t.data&&(ve(xe+1),0===t.data.error_type.length?e.addBanner("Success : Automatic URL submission preferences updated."):e.addBanner("Error : Automatic URL submission preferences not updated."))}))},disabled:((null===u||void 0===u?void 0:u.AutoSubmissionEnabled)?"enable":"disable")===ae}),Object(L.jsx)(D.a,{className:"button secondaryButton",text:"Cancel",onClick:function(){ee(n.Hidden)}})]})]}),X===n.SubmitUrlModal&&Object(L.jsxs)("div",{className:"modalContainer bw-ModalUrlSubmit",children:[Object(L.jsxs)("div",{className:"modalHeader",children:[Object(L.jsx)("p",{className:"modalTitle",children:"Manual URL submission"}),Object(L.jsx)(I.a,{iconName:"ChromeClose",className:"bw-Icon modalClose",onClick:function(){ee(n.Hidden)}})]}),Object(L.jsx)("div",{className:"modalContent",children:Object(L.jsx)(_.a,{placeholder:"Enter URL to submit",className:"textField",value:ce,validateOnLoad:!1,onGetErrorMessage:function(){return R.test(ce)?"":M.UrlSubmitErrorMessage},onChange:function(e,t){oe((null===t||void 0===t?void 0:t.trim())||"")}})}),Object(L.jsxs)("div",{className:"modalFooter",children:[Object(L.jsx)(T.a,{className:"button primaryButton",text:"Submit URL",disabled:!R.test(ce),onClick:function(t){ee(n.Hidden),Promise.resolve(function(e){return P.apply(this,arguments)}(ce)).then((function(t){t&&t.data&&(pe(he+1),0===t.data.error.length?e.addBanner("Success : URL submitted successfully."):e.addBanner("Error : Submission failed for URL - ".concat(ce)))}))}}),Object(L.jsx)(D.a,{className:"button secondaryButton",text:"Cancel",onClick:function(){ee(n.Hidden)}})]})]})]})]})},$=function(){var e=Object(a.useState)(!1),t=Object(c.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)([]),r=Object(c.a)(i,2),o=r[0],l=r[1];Object(a.useEffect)((function(){Promise.resolve(function(){return v.apply(this,arguments)}()).then((function(e){e&&e.data&&s(e.data.hasAPIKey)}))}),[]);var d=function(e){return l([e].concat(o.slice()))},u=function(e){var t,n=null!==(t=e.target.dataset.index)&&void 0!==t?t:"0",a=o.slice();a.splice(parseInt(n),1),l(a)};return Object(L.jsxs)("div",{className:"bw-App",children:[Object(L.jsx)(K,{}),Object(L.jsxs)("div",{className:"bw-MainContainer",children:[o.map((function(e,t){return Object(L.jsxs)("div",{className:"bw-Banner"+(e.length<=0?" bw-BannerHidden":"")+(e.indexOf("Success")>-1?" bw-BannerSuccess":" bw-BannerFailure"),children:[Object(L.jsx)("span",{children:e}),Object(L.jsx)(I.a,{iconName:"ChromeClose",className:"closeIcon","data-index":t,onClick:u})]})})),!n&&Object(L.jsx)(F,{addBanner:d,setAPIKeyAdded:function(){s(!0),l([])}}),n&&Object(L.jsx)(Y,{addBanner:d})]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var X=n(147);Object(X.a)();var ee=document.getElementById("bwAppRoot");null!==ee&&r.a.render(Object(L.jsx)(s.a.StrictMode,{children:Object(L.jsx)($,{})}),ee),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[97,1,2]]]);
//# sourceMappingURL=main.61ee0758.chunk.js.map